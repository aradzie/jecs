var De=t=>{throw TypeError(t)};var ye=(t,e,n)=>e.has(t)||De("Cannot "+n);var f=(t,e,n)=>(ye(t,e,"read from private field"),n?n.call(t):e.get(t)),v=(t,e,n)=>e.has(t)?De("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),M=(t,e,n,i)=>(ye(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),N=(t,e,n)=>(ye(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var fe,d,Ge,E,Ne,Je,be,Xe,ke,Ce,He,q={},Ye=[],ht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xe=Array.isArray;function O(t,e){for(var n in e)t[n]=e[n];return t}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Qe(t,e,n){var i,r,o,s={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?fe.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return ee(t,s,i,r,null)}function ee(t,e,n,i,r){var o={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++Ge,__i:-1,__u:0};return r==null&&d.vnode!=null&&d.vnode(o),o}function he(t){return t.children}function te(t,e){this.props=t,this.context=e}function j(t,e){if(e==null)return t.__?j(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?j(t):null}function et(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return et(t)}}function Fe(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!re.__r++||Ne!==d.debounceRendering)&&((Ne=d.debounceRendering)||Je)(re)}function re(){var t,e,n,i,r,o,s,l;for(E.sort(be);t=E.shift();)t.__d&&(e=E.length,i=void 0,o=(r=(n=t).__v).__e,s=[],l=[],n.__P&&((i=O({},r)).__v=r.__v+1,d.vnode&&d.vnode(i),Pe(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[o]:null,s,o??j(r),!!(32&r.__u),l),i.__v=r.__v,i.__.__k[i.__i]=i,rt(s,i,l),i.__e!=o&&et(i)),E.length>e&&E.sort(be));re.__r=0}function tt(t,e,n,i,r,o,s,l,c,a,h){var _,g,u,C,V,H,m=i&&i.__k||Ye,y=e.length;for(c=dt(n,e,m,c,y),_=0;_<y;_++)(u=n.__k[_])!=null&&(g=u.__i===-1?q:m[u.__i]||q,u.__i=_,H=Pe(t,u,g,r,o,s,l,c,a,h),C=u.__e,u.ref&&g.ref!=u.ref&&(g.ref&&Oe(g.ref,null,u),h.push(u.ref,u.__c||C,u)),V==null&&C!=null&&(V=C),4&u.__u||g.__k===u.__k?c=nt(u,c,t):typeof u.type=="function"&&H!==void 0?c=H:C&&(c=C.nextSibling),u.__u&=-7);return n.__e=V,c}function dt(t,e,n,i,r){var o,s,l,c,a,h=n.length,_=h,g=0;for(t.__k=new Array(r),o=0;o<r;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=o+g,(s=t.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ee(null,s,null,null,null):xe(s)?ee(he,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ee(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,l=null,(a=s.__i=mt(s,n,c,_))!==-1&&(_--,(l=n[a])&&(l.__u|=2)),l==null||l.__v===null?(a==-1&&g--,typeof s.type!="function"&&(s.__u|=4)):a!=c&&(a==c-1?g--:a==c+1?g++:(a>c?g--:g++,s.__u|=4))):t.__k[o]=null;if(_)for(o=0;o<h;o++)(l=n[o])!=null&&!(2&l.__u)&&(l.__e==i&&(i=j(l)),ot(l,l));return i}function nt(t,e,n){var i,r;if(typeof t.type=="function"){for(i=t.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=t,e=nt(i[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=j(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function mt(t,e,n,i){var r,o,s=t.key,l=t.type,c=e[n];if(c===null||c&&s==c.key&&l===c.type&&!(2&c.__u))return n;if(i>(c!=null&&!(2&c.__u)?1:0))for(r=n-1,o=n+1;r>=0||o<e.length;){if(r>=0){if((c=e[r])&&!(2&c.__u)&&s==c.key&&l===c.type)return r;r--}if(o<e.length){if((c=e[o])&&!(2&c.__u)&&s==c.key&&l===c.type)return o;o++}}return-1}function Te(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ht.test(e)?n:n+"px"}function Q(t,e,n,i,r){var o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Te(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||Te(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Xe,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i?n.u=i.u:(n.u=ke,t.addEventListener(e,o?He:Ce,o)):t.removeEventListener(e,o?He:Ce,o);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Ue(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ke++;else if(e.t<n.u)return;return n(d.event?d.event(e):e)}}}function Pe(t,e,n,i,r,o,s,l,c,a){var h,_,g,u,C,V,H,m,y,W,x,X,I,Ee,Y,de,me,S=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[l=e.__e=n.__e]),(h=d.__b)&&h(e);e:if(typeof S=="function")try{if(m=e.props,y="prototype"in S&&S.prototype.render,W=(h=S.contextType)&&i[h.__c],x=h?W?W.props.value:h.__:i,n.__c?H=(_=e.__c=n.__c).__=_.__E:(y?e.__c=_=new S(m,x):(e.__c=_=new te(m,x),_.constructor=S,_.render=vt),W&&W.sub(_),_.props=m,_.state||(_.state={}),_.context=x,_.__n=i,g=_.__d=!0,_.__h=[],_._sb=[]),y&&_.__s==null&&(_.__s=_.state),y&&S.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=O({},_.__s)),O(_.__s,S.getDerivedStateFromProps(m,_.__s))),u=_.props,C=_.state,_.__v=e,g)y&&S.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),y&&_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(y&&S.getDerivedStateFromProps==null&&m!==u&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(m,x),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(m,_.__s,x)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(_.props=m,_.state=_.__s,_.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),X=0;X<_._sb.length;X++)_.__h.push(_._sb[X]);_._sb=[],_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(m,_.__s,x),y&&_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(u,C,V)})}if(_.context=x,_.props=m,_.__P=t,_.__e=!1,I=d.__r,Ee=0,y){for(_.state=_.__s,_.__d=!1,I&&I(e),h=_.render(_.props,_.state,_.context),Y=0;Y<_._sb.length;Y++)_.__h.push(_._sb[Y]);_._sb=[]}else do _.__d=!1,I&&I(e),h=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++Ee<25);_.state=_.__s,_.getChildContext!=null&&(i=O(O({},i),_.getChildContext())),y&&!g&&_.getSnapshotBeforeUpdate!=null&&(V=_.getSnapshotBeforeUpdate(u,C)),l=tt(t,xe(de=h!=null&&h.type===he&&h.key==null?h.props.children:h)?de:[de],e,n,i,r,o,s,l,c,a),_.base=e.__e,e.__u&=-161,_.__h.length&&s.push(_),H&&(_.__E=_.__=null)}catch(z){if(e.__v=null,c||o!=null)if(z.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else for(me=o.length;me--;)$e(o[me]);else e.__e=n.__e,e.__k=n.__k;d.__e(z,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=yt(n.__e,e,n,i,r,o,s,c,a);return(h=d.diffed)&&h(e),128&e.__u?void 0:l}function rt(t,e,n){for(var i=0;i<n.length;i++)Oe(n[i],n[++i],n[++i]);d.__c&&d.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(o){o.call(r)})}catch(o){d.__e(o,r.__v)}})}function yt(t,e,n,i,r,o,s,l,c){var a,h,_,g,u,C,V,H=n.props,m=e.props,y=e.type;if(y=="svg"?r="http://www.w3.org/2000/svg":y=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(a=0;a<o.length;a++)if((u=o[a])&&"setAttribute"in u==!!y&&(y?u.localName==y:u.nodeType==3)){t=u,o[a]=null;break}}if(t==null){if(y==null)return document.createTextNode(m);t=document.createElementNS(r,y,m.is&&m),l&&(d.__m&&d.__m(e,o),l=!1),o=null}if(y===null)H===m||l&&t.data===m||(t.data=m);else{if(o=o&&fe.call(t.childNodes),H=n.props||q,!l&&o!=null)for(H={},a=0;a<t.attributes.length;a++)H[(u=t.attributes[a]).name]=u.value;for(a in H)if(u=H[a],a!="children"){if(a=="dangerouslySetInnerHTML")_=u;else if(!(a in m)){if(a=="value"&&"defaultValue"in m||a=="checked"&&"defaultChecked"in m)continue;Q(t,a,null,u,r)}}for(a in m)u=m[a],a=="children"?g=u:a=="dangerouslySetInnerHTML"?h=u:a=="value"?C=u:a=="checked"?V=u:l&&typeof u!="function"||H[a]===u||Q(t,a,u,H[a],r);if(h)l||_&&(h.__html===_.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(_&&(t.innerHTML=""),tt(t,xe(g)?g:[g],e,n,i,y=="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,s,o?o[0]:n.__k&&j(n,0),l,c),o!=null)for(a=o.length;a--;)$e(o[a]);l||(a="value",y=="progress"&&C==null?t.removeAttribute("value"):C!==void 0&&(C!==t[a]||y=="progress"&&!C||y=="option"&&C!==H[a])&&Q(t,a,C,H[a],r),a="checked",V!==void 0&&V!==t[a]&&Q(t,a,V,H[a],r))}return t}function Oe(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(r){d.__e(r,n)}}function ot(t,e,n){var i,r;if(d.unmount&&d.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Oe(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){d.__e(o,e)}i.base=i.__P=null}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&ot(i[r],e,n||typeof t.type!="function");n||$e(t.__e),t.__c=t.__=t.__e=void 0}function vt(t,e,n){return this.constructor(t,n)}function gt(t,e,n){var i,r,o,s;e==document&&(e=document.documentElement),d.__&&d.__(t,e),r=(i=!1)?null:e.__k,o=[],s=[],Pe(e,t=e.__k=Qe(he,null,[t]),r||q,q,e.namespaceURI,r?null:e.firstChild?fe.call(e.childNodes):null,o,r?r.__e:e.firstChild,i,s),rt(o,t,s)}fe=Ye.slice,d={__e:function(t,e,n,i){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(t)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),s=r.__d),s)return r.__E=r}catch(l){t=l}throw t}},Ge=0,te.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof t=="function"&&(t=t(O({},n),this.props)),t&&O(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Fe(this))},te.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fe(this))},te.prototype.render=he,E=[],Je=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,be=function(t,e){return t.__v.__b-e.__v.__b},re.__r=0,Xe=/(PointerCapture)$|Capture$/i,ke=0,Ce=Ue(!1),He=Ue(!0);var bt=0;function p(t,e,n,i,r,o){e||(e={});var s,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?s=e[l]:c[l]=e[l];var a={type:t,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--bt,__i:-1,__u:0,__source:r,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return d.vnode&&d.vnode(a),a}var oe,w,ve,Re,Le=0,it=[],b=d,Ze=b.__b,je=b.__r,We=b.diffed,Ie=b.__c,ze=b.unmount,Be=b.__;function _t(t,e){b.__h&&b.__h(w,t,Le||e),Le=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function st(t,e){var n=_t(oe++,3);!b.__s&&lt(n.__H,e)&&(n.__=t,n.i=e,w.__H.__h.push(n))}function Ct(t){return Le=5,Ht(function(){return{current:t}},[])}function Ht(t,e){var n=_t(oe++,7);return lt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Lt(){for(var t;t=it.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ne),t.__H.__h.forEach(we),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){w=null,Ze&&Ze(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Be&&Be(t,e)},b.__r=function(t){je&&je(t),oe=0;var e=(w=t.__c).__H;e&&(ve===w?(e.__h=[],w.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(ne),e.__h.forEach(we),e.__h=[],oe=0)),ve=w},b.diffed=function(t){We&&We(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(it.push(e)!==1&&Re===b.requestAnimationFrame||((Re=b.requestAnimationFrame)||wt)(Lt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),ve=w=null},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ne),n.__h=n.__h.filter(function(i){return!i.__||we(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],b.__e(i,n.__v)}}),Ie&&Ie(t,e)},b.unmount=function(t){ze&&ze(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ne(i)}catch(r){e=r}}),n.__H=void 0,e&&b.__e(e,n.__v))};var qe=typeof requestAnimationFrame=="function";function wt(t){var e,n=function(){clearTimeout(i),qe&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);qe&&(e=requestAnimationFrame(n))}function ne(t){var e=w,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),w=e}function we(t){var e=w;t.__c=t.__(),w=e}function lt(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}const D={ampere:{name:"Ampere",type:"number",symbol:"A"},coulomb:{name:"Coulomb",type:"number",symbol:"C"},farad:{name:"Farad",type:"number",symbol:"F"},henry:{name:"Henry",type:"number",symbol:"H"},hertz:{name:"Hertz",type:"number",symbol:"Hz"},joule:{name:"Joule",type:"number",symbol:"J"},kelvin:{name:"Kelvin",type:"number",symbol:"K"},metre:{name:"metre",type:"number",symbol:"m"},number:{name:"number",type:"number",symbol:""},ohm:{name:"Ohm",type:"number",symbol:"Ω"},radian:{name:"radian",type:"number",symbol:"rad"},second:{name:"second",type:"number",symbol:"s"},volt:{name:"Volt",type:"number",symbol:"V"},watt:{name:"Watt",type:"number",symbol:"W"}},Mt={id:"g",name:"ground",category:"Linear",shapes:[],pins:[],props:[]},At={id:"r",name:"resistor",category:"Linear",shapes:[["l",0,0,0,0],["l",1,1,1,1]],pins:[],props:[{name:"R",description:"resistance",unit:D.ohm,show:!0,value:"1k"}]},Vt={id:"c",name:"capacitor",category:"Linear",shapes:[],pins:[],props:[{name:"C",description:"capacitance",unit:D.farad,show:!0,value:"1μ"},{name:"V",description:"initial voltage for transient simulation",unit:D.volt,show:!1}]},St={id:"l",name:"inductor",category:"Linear",shapes:[],pins:[],props:[{name:"L",description:"inductance",unit:D.henry,show:!0,value:"1m"},{name:"I",description:"initial current for transient simulation",unit:D.ampere,show:!1}]},kt={ground:Mt,resistor:At,capacitor:Vt,inductor:St},xt={id:"d",name:"diode",category:"Nonlinear",shapes:[],pins:[],props:[]},$t={id:"npn",name:"npn bipolar junction transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Pt={id:"pnp",name:"pnp bipolar junction transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Ot={id:"nfet",name:"n-channel junction field-effect transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Et={id:"pfet",name:"p-channel junction field-effect transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Dt={id:"nmos",name:"n-channel MOS field-effect transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Nt={id:"pmos",name:"p-channel MOS field-effect transistor",category:"Nonlinear",shapes:[],pins:[],props:[]},Ft={diode:xt,npn:$t,pnp:Pt,nfet:Ot,pfet:Et,nmos:Dt,pmos:Nt},Tt={id:"vm",name:"voltmeter",category:"Probes",shapes:[],pins:[],props:[]},Ut={id:"am",name:"ammeter",category:"Probes",shapes:[],pins:[],props:[]},Rt={vm:Tt,am:Ut},Zt={id:"vdc",name:"ideal dc voltage source",category:"Sources",shapes:[],pins:[],props:[{name:"U",description:"voltage",unit:D.volt,show:!0}]},jt={id:"idc",name:"ideal dc current source",category:"Sources",shapes:[],pins:[],props:[{name:"I",description:"current",unit:D.ampere,show:!0}]},Wt={vdc:Zt,idc:jt};var T,Ke;let It=(Ke=class{constructor(e){v(this,T,new Map);for(const n of e)f(this,T).set(n.id,n)}[Symbol.iterator](){return f(this,T).values()}get(e){const n=f(this,T).get(e);if(n==null)throw new Error(`Unknown symbol [${e}]`);return n}},T=new WeakMap,Ke);const zt=new It([...Object.values(kt),...Object.values(Ft),...Object.values(Wt),...Object.values(Rt)]);var k,U;class Bt{constructor(e){v(this,k);v(this,U);M(this,k,e),M(this,U,e.getContext("2d"))}get canvas(){return f(this,k)}get ctx(){return f(this,U)}get width(){return f(this,k).width}get height(){return f(this,k).height}clear(){f(this,U).clearRect(0,0,f(this,k).width,f(this,k).height)}}k=new WeakMap,U=new WeakMap;var K,G,J,Me,Ae,ie,R;class ge{constructor(e){v(this,K);v(this,G,0);v(this,J,0);v(this,Me,"0");v(this,Ae,"n");v(this,ie,{});v(this,R,!1);M(this,K,e)}get sym(){return f(this,K)}move(e,n){return M(this,G,e),M(this,J,n),this}rotate(e){return this}flip(e){return this}get x(){return f(this,G)}get y(){return f(this,J)}get props(){return f(this,ie)}select(e=!0){M(this,R,e)}unselect(){M(this,R,!1)}get selected(){return f(this,R)}}K=new WeakMap,G=new WeakMap,J=new WeakMap,Me=new WeakMap,Ae=new WeakMap,ie=new WeakMap,R=new WeakMap;const F=10;var $,Ve,Z,P,_e,Se,se,le,ae,ce,ue,pe,A,at,ct,ut,pt,ft;class qt{constructor(e){v(this,A);v(this,$);v(this,Ve,null);v(this,Z,null);v(this,P);v(this,_e,[]);v(this,Se,[]);v(this,se,e=>{});v(this,le,e=>{e.preventDefault()});v(this,ae,e=>{e.preventDefault()});v(this,ce,e=>{e.preventDefault()});v(this,ue,e=>{e.preventDefault();const{width:n,height:i}=f(this,P),r=e.offsetX,o=e.offsetY;r>=0&&r<n&&o>=0&&o<i?(M(this,Z,{x:Math.round(r/F)*F,y:Math.round(o/F)*F}),this.paint()):M(this,Z,null)});v(this,pe,e=>{e.preventDefault()});M(this,$,e),f(this,_e).push(new ge(f(this,$).get("r")).move(50,50),new ge(f(this,$).get("c")).move(250,50),new ge(f(this,$).get("l")).move(150,50))}get library(){return f(this,$)}listen(e){e.addEventListener("keydown",f(this,se))}attach(e){M(this,P,new Bt(e)),e.addEventListener("click",f(this,le)),e.addEventListener("mousedown",f(this,ae)),e.addEventListener("mouseup",f(this,ce)),e.addEventListener("mousemove",f(this,ue)),e.addEventListener("wheel",f(this,pe))}paint(){f(this,P).clear(),N(this,A,at).call(this),N(this,A,ct).call(this),N(this,A,ut).call(this),N(this,A,pt).call(this),N(this,A,ft).call(this)}}$=new WeakMap,Ve=new WeakMap,Z=new WeakMap,P=new WeakMap,_e=new WeakMap,Se=new WeakMap,se=new WeakMap,le=new WeakMap,ae=new WeakMap,ce=new WeakMap,ue=new WeakMap,pe=new WeakMap,A=new WeakSet,at=function(){const{ctx:e,width:n,height:i}=f(this,P);e.fillStyle="rgb(200 0 0)",e.fillRect(10,10,50,50),e.fillStyle="rgb(0 0 200 / 50%)",e.fillRect(30,30,50,50),e.fillStyle="rgb(0 0 0 / 25%)";for(let r=0;r<n;r+=F)for(let o=0;o<i;o+=F)e.fillRect(r,o,1,1)},ct=function(){},ut=function(){},pt=function(){},ft=function(){const e=f(this,Z);if(e!=null){const{ctx:n,width:i,height:r}=f(this,P);n.fillStyle="rgb(0 0 0 / 50%)",n.fillRect(0,e.y,i,1),n.fillRect(e.x,0,1,r)}};const Kt="_root_1fmi9_1",Gt="_toolbar_1fmi9_6",Jt="_library_1fmi9_15",Xt="_canvas_1fmi9_24";function Yt({schematic:t}){const e=Ct(null);return st(()=>{const n=e.current,i=n.getContext("2d"),r=devicePixelRatio,o=new ResizeObserver(()=>{const{width:s,height:l}=n.getBoundingClientRect(),c=Math.max(1,s*r),a=Math.max(1,l*r);(n.width!==c||n.height!==a)&&(n.width=c,n.height=a,i.scale(r,r),t.paint())});return t.attach(n),o.observe(n),()=>{o.disconnect()}},[t]),p("canvas",{ref:e,style:{display:"block",inlineSize:"100%",blockSize:"100%"}})}const Qt="_root_16dog_1",en="_category_16dog_7",tn="_title_16dog_12",nn="_list_16dog_17",rn="_symbol_16dog_26";function on({schematic:t}){const e=Object.groupBy(t.library,({category:n})=>n);return p("div",{class:Qt,children:Object.entries(e).map(([n,i])=>p(_n,{name:n,symbols:i}))})}function _n({name:t,symbols:e}){return p("div",{class:en,children:[p("div",{class:tn,children:t}),p("div",{class:nn,children:e.map(n=>p(sn,{symbol:n}))})]})}function sn({symbol:t}){return p("div",{class:rn,title:t.name})}var ln="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",an="M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z",cn="M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z",un="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z",pn="M20 18H4V8H20M20 6H12L10 4H4A2 2 0 0 0 2 6V18A2 2 0 0 0 4 20H20A2 2 0 0 0 22 18V8A2 2 0 0 0 20 6M14 9H16V13H19L15 17L11 13H14Z",fn="M20 18H4V8H20M20 6H12L10 4H4A2 2 0 0 0 2 6V18A2 2 0 0 0 4 20H20A2 2 0 0 0 22 18V8A2 2 0 0 0 20 6M16 17H14V13H11L15 9L19 13H16Z",hn="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",dn="M19.5 17C19.36 17 19.24 17 19.11 17.04L17.5 13.8C17.95 13.35 18.25 12.71 18.25 12C18.25 10.62 17.13 9.5 15.75 9.5C15.61 9.5 15.5 9.5 15.35 9.54L13.74 6.3C14.21 5.84 14.5 5.21 14.5 4.5C14.5 3.12 13.38 2 12 2S9.5 3.12 9.5 4.5C9.5 5.2 9.79 5.84 10.26 6.29L8.65 9.54C8.5 9.5 8.39 9.5 8.25 9.5C6.87 9.5 5.75 10.62 5.75 12C5.75 12.71 6.04 13.34 6.5 13.79L4.89 17.04C4.76 17 4.64 17 4.5 17C3.12 17 2 18.12 2 19.5C2 20.88 3.12 22 4.5 22S7 20.88 7 19.5C7 18.8 6.71 18.16 6.24 17.71L7.86 14.46C8 14.5 8.12 14.5 8.25 14.5C8.38 14.5 8.5 14.5 8.63 14.46L10.26 17.71C9.79 18.16 9.5 18.8 9.5 19.5C9.5 20.88 10.62 22 12 22S14.5 20.88 14.5 19.5C14.5 18.12 13.38 17 12 17C11.87 17 11.74 17 11.61 17.04L10 13.8C10.45 13.35 10.75 12.71 10.75 12C10.75 11.3 10.46 10.67 10 10.21L11.61 6.96C11.74 7 11.87 7 12 7C12.13 7 12.26 7 12.39 6.96L14 10.21C13.54 10.66 13.25 11.3 13.25 12C13.25 13.38 14.37 14.5 15.75 14.5C15.88 14.5 16 14.5 16.13 14.46L17.76 17.71C17.29 18.16 17 18.8 17 19.5C17 20.88 18.12 22 19.5 22S22 20.88 22 19.5C22 18.12 20.88 17 19.5 17M4.5 20.5C3.95 20.5 3.5 20.05 3.5 19.5S3.95 18.5 4.5 18.5 5.5 18.95 5.5 19.5 5.05 20.5 4.5 20.5M13 19.5C13 20.05 12.55 20.5 12 20.5S11 20.05 11 19.5 11.45 18.5 12 18.5 13 18.95 13 19.5M7.25 12C7.25 11.45 7.7 11 8.25 11S9.25 11.45 9.25 12 8.8 13 8.25 13 7.25 12.55 7.25 12M11 4.5C11 3.95 11.45 3.5 12 3.5S13 3.95 13 4.5 12.55 5.5 12 5.5 11 5.05 11 4.5M14.75 12C14.75 11.45 15.2 11 15.75 11S16.75 11.45 16.75 12 16.3 13 15.75 13 14.75 12.55 14.75 12M19.5 20.5C18.95 20.5 18.5 20.05 18.5 19.5S18.95 18.5 19.5 18.5 20.5 18.95 20.5 19.5 20.05 20.5 19.5 20.5Z",mn="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",yn="M18 16H17.42L16.61 15.19C17.5 14 18 12.5 18 11C18 7.13 14.87 4 11 4C9.5 4 8 4.5 6.79 5.4C3.7 7.72 3.07 12.11 5.39 15.2C7.71 18.29 12.1 18.92 15.19 16.6L16 17.41V18L21 23L23 21L18 16M11 16C8.24 16 6 13.76 6 11S8.24 6 11 6 16 8.24 16 11 13.76 16 11 16M3 6L1 8V1H8L6 3H3V6M21 1V8L19 6V3H16L14 1H21M6 19L8 21H1V14L3 16V19H6Z",vn="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z",gn="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z",bn="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z",Cn="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",Hn="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z";const Ln="_root_1fo88_1",wn="_button_1fo88_8",Mn="_icon_1fo88_25",An="_separator_1fo88_31";function Vn({schematic:t}){return p("div",{class:Ln,children:[p(L,{shape:pn,title:"Open"}),p(L,{shape:fn,title:"Save"}),p(B,{}),p(L,{shape:an,title:"Cut"}),p(L,{shape:ln,title:"Copy"}),p(L,{shape:cn,title:"Paste"}),p(L,{shape:un,title:"Delete"}),p(B,{}),p(L,{shape:Hn,title:"Undo"}),p(L,{shape:Cn,title:"Redo"}),p(B,{}),p(L,{shape:mn,title:"Zoom 100%"}),p(L,{shape:gn,title:"Zoom in"}),p(L,{shape:vn,title:"Zoom out"}),p(L,{shape:yn,title:"View all"}),p(B,{}),p(L,{shape:hn,title:"Toggle fullscreen"}),p(B,{}),p(L,{shape:dn,title:"Show nodes"}),p(L,{shape:bn,title:"Simulate"})]})}function L({shape:t,title:e}){return p("button",{class:wn,title:e,children:p("svg",{class:Mn,viewBox:"0 0 24 24",children:p("path",{d:t})})})}function B(){return p("span",{className:An})}function Sn(){const t=new qt(zt);return st(()=>{t.listen(window)},[t]),p("main",{class:Kt,children:[p("div",{class:Gt,children:p(Vn,{schematic:t})}),p("div",{class:Jt,children:p(on,{schematic:t})}),p("div",{class:Xt,children:p(Yt,{schematic:t})})]})}gt(Qe(Sn,null),document.querySelector("#app"));
